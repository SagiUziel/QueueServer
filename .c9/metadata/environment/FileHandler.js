{"filter":false,"title":"FileHandler.js","tooltip":"/FileHandler.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"insert","lines":["p"],"id":467},{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"insert","lines":["n"]},{"start":{"row":34,"column":20},"end":{"row":34,"column":21},"action":"insert","lines":["g"]}],[{"start":{"row":34,"column":22},"end":{"row":34,"column":23},"action":"insert","lines":[";"],"id":468}],[{"start":{"row":45,"column":24},"end":{"row":45,"column":25},"action":"insert","lines":["."],"id":469},{"start":{"row":45,"column":25},"end":{"row":45,"column":26},"action":"insert","lines":["$"]},{"start":{"row":45,"column":26},"end":{"row":45,"column":27},"action":"insert","lines":["{"]},{"start":{"row":45,"column":27},"end":{"row":45,"column":28},"action":"insert","lines":["}"]}],[{"start":{"row":45,"column":27},"end":{"row":45,"column":31},"action":"insert","lines":["type"],"id":470}],[{"start":{"row":35,"column":33},"end":{"row":35,"column":36},"action":"remove","lines":["png"],"id":471}],[{"start":{"row":35,"column":34},"end":{"row":35,"column":35},"action":"insert","lines":[" "],"id":472},{"start":{"row":35,"column":35},"end":{"row":35,"column":36},"action":"insert","lines":[" "]}],[{"start":{"row":35,"column":35},"end":{"row":35,"column":36},"action":"remove","lines":[" "],"id":473}],[{"start":{"row":35,"column":35},"end":{"row":35,"column":36},"action":"insert","lines":["+"],"id":474}],[{"start":{"row":35,"column":36},"end":{"row":35,"column":37},"action":"insert","lines":[" "],"id":475}],[{"start":{"row":35,"column":37},"end":{"row":35,"column":41},"action":"insert","lines":["type"],"id":476}],[{"start":{"row":45,"column":24},"end":{"row":45,"column":32},"action":"remove","lines":[".${type}"],"id":477},{"start":{"row":45,"column":24},"end":{"row":45,"column":25},"action":"insert","lines":["\\"]}],[{"start":{"row":45,"column":24},"end":{"row":45,"column":25},"action":"remove","lines":["\\"],"id":478}],[{"start":{"row":36,"column":0},"end":{"row":42,"column":97},"action":"remove","lines":["    // Generally we'd have a userId associated with the image","    // For this example, we'll simulate one","    //const userId = 1;","    ","    // With this setup, each time your user uploads an image, will be overwritten.","    // To prevent this, use a unique Key each time.","    // This won't be needed if they're uploading their avatar, hence the filename, userAvatar.js."],"id":479}],[{"start":{"row":31,"column":0},"end":{"row":33,"column":59},"action":"remove","lines":["","    // Getting the file type, ie: jpeg, png or gif","    //const type = base64Image.split(';')[0].split('/')[1];"],"id":480}],[{"start":{"row":43,"column":0},"end":{"row":45,"column":90},"action":"remove","lines":["    ","    // The upload() is used instead of putObject() as we'd need the location url and assign that to our user profile/database","    // see: http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#upload-property"],"id":481}],[{"start":{"row":46,"column":6},"end":{"row":48,"column":44},"action":"remove","lines":["","      // Continue if no error","      // Save data.Location in your database"],"id":482}],[{"start":{"row":31,"column":0},"end":{"row":31,"column":4},"action":"insert","lines":["    "],"id":483}],[{"start":{"row":31,"column":4},"end":{"row":31,"column":5},"action":"insert","lines":["c"],"id":484},{"start":{"row":31,"column":5},"end":{"row":31,"column":6},"action":"insert","lines":["o"]},{"start":{"row":31,"column":6},"end":{"row":31,"column":7},"action":"insert","lines":["n"]},{"start":{"row":31,"column":7},"end":{"row":31,"column":8},"action":"insert","lines":["s"]},{"start":{"row":31,"column":8},"end":{"row":31,"column":9},"action":"insert","lines":["o"]},{"start":{"row":31,"column":9},"end":{"row":31,"column":10},"action":"insert","lines":["l"]},{"start":{"row":31,"column":10},"end":{"row":31,"column":11},"action":"insert","lines":["e"]},{"start":{"row":31,"column":11},"end":{"row":31,"column":12},"action":"insert","lines":["."]},{"start":{"row":31,"column":12},"end":{"row":31,"column":13},"action":"insert","lines":["l"]}],[{"start":{"row":31,"column":13},"end":{"row":31,"column":14},"action":"insert","lines":["o"],"id":485},{"start":{"row":31,"column":14},"end":{"row":31,"column":15},"action":"insert","lines":["g"]}],[{"start":{"row":31,"column":15},"end":{"row":31,"column":17},"action":"insert","lines":["()"],"id":486}],[{"start":{"row":31,"column":17},"end":{"row":31,"column":18},"action":"insert","lines":[";"],"id":487}],[{"start":{"row":31,"column":16},"end":{"row":31,"column":26},"action":"insert","lines":["base64Data"],"id":488}],[{"start":{"row":31,"column":26},"end":{"row":31,"column":27},"action":"insert","lines":["."],"id":489},{"start":{"row":31,"column":27},"end":{"row":31,"column":28},"action":"insert","lines":["l"]},{"start":{"row":31,"column":28},"end":{"row":31,"column":29},"action":"insert","lines":["e"]},{"start":{"row":31,"column":29},"end":{"row":31,"column":30},"action":"insert","lines":["n"]},{"start":{"row":31,"column":30},"end":{"row":31,"column":31},"action":"insert","lines":["g"]},{"start":{"row":31,"column":31},"end":{"row":31,"column":32},"action":"insert","lines":["t"]},{"start":{"row":31,"column":32},"end":{"row":31,"column":33},"action":"insert","lines":["h"]}],[{"start":{"row":32,"column":18},"end":{"row":32,"column":21},"action":"remove","lines":["png"],"id":490},{"start":{"row":32,"column":18},"end":{"row":32,"column":22},"action":"insert","lines":["JPEG"]}],[{"start":{"row":27,"column":28},"end":{"row":28,"column":0},"action":"insert","lines":["",""],"id":491},{"start":{"row":28,"column":0},"end":{"row":28,"column":4},"action":"insert","lines":["    "]},{"start":{"row":28,"column":4},"end":{"row":28,"column":5},"action":"insert","lines":["i"]},{"start":{"row":28,"column":5},"end":{"row":28,"column":6},"action":"insert","lines":["f"]}],[{"start":{"row":28,"column":4},"end":{"row":28,"column":6},"action":"remove","lines":["if"],"id":492},{"start":{"row":28,"column":4},"end":{"row":30,"column":5},"action":"insert","lines":["if (true) {","        ","    }"]}],[{"start":{"row":28,"column":8},"end":{"row":28,"column":12},"action":"remove","lines":["true"],"id":493},{"start":{"row":28,"column":8},"end":{"row":28,"column":25},"action":"insert","lines":["base64Data.length"]}],[{"start":{"row":28,"column":25},"end":{"row":28,"column":26},"action":"insert","lines":[" "],"id":494},{"start":{"row":28,"column":26},"end":{"row":28,"column":27},"action":"insert","lines":[">"]}],[{"start":{"row":28,"column":27},"end":{"row":28,"column":28},"action":"insert","lines":[" "],"id":495},{"start":{"row":28,"column":28},"end":{"row":28,"column":29},"action":"insert","lines":["6"]},{"start":{"row":28,"column":29},"end":{"row":28,"column":30},"action":"insert","lines":["0"]},{"start":{"row":28,"column":30},"end":{"row":28,"column":31},"action":"insert","lines":["0"]},{"start":{"row":28,"column":31},"end":{"row":28,"column":32},"action":"insert","lines":["0"]}],[{"start":{"row":28,"column":32},"end":{"row":28,"column":33},"action":"insert","lines":["0"],"id":496},{"start":{"row":28,"column":33},"end":{"row":28,"column":34},"action":"insert","lines":["0"]}],[{"start":{"row":29,"column":8},"end":{"row":30,"column":0},"action":"insert","lines":["",""],"id":497},{"start":{"row":30,"column":0},"end":{"row":30,"column":8},"action":"insert","lines":["        "]},{"start":{"row":30,"column":8},"end":{"row":30,"column":9},"action":"insert","lines":["r"]},{"start":{"row":30,"column":9},"end":{"row":30,"column":10},"action":"insert","lines":["e"]},{"start":{"row":30,"column":10},"end":{"row":30,"column":11},"action":"insert","lines":["t"]},{"start":{"row":30,"column":11},"end":{"row":30,"column":12},"action":"insert","lines":["u"]},{"start":{"row":30,"column":12},"end":{"row":30,"column":13},"action":"insert","lines":["r"]},{"start":{"row":30,"column":13},"end":{"row":30,"column":14},"action":"insert","lines":["n"]},{"start":{"row":30,"column":14},"end":{"row":30,"column":15},"action":"insert","lines":[";"]}],[{"start":{"row":29,"column":8},"end":{"row":29,"column":9},"action":"insert","lines":["c"],"id":498},{"start":{"row":29,"column":9},"end":{"row":29,"column":10},"action":"insert","lines":["o"]},{"start":{"row":29,"column":10},"end":{"row":29,"column":11},"action":"insert","lines":["n"]},{"start":{"row":29,"column":11},"end":{"row":29,"column":12},"action":"insert","lines":["s"]},{"start":{"row":29,"column":12},"end":{"row":29,"column":13},"action":"insert","lines":["o"]},{"start":{"row":29,"column":13},"end":{"row":29,"column":14},"action":"insert","lines":["l"]},{"start":{"row":29,"column":14},"end":{"row":29,"column":15},"action":"insert","lines":["e"]},{"start":{"row":29,"column":15},"end":{"row":29,"column":16},"action":"insert","lines":["."]},{"start":{"row":29,"column":16},"end":{"row":29,"column":17},"action":"insert","lines":["l"]},{"start":{"row":29,"column":17},"end":{"row":29,"column":18},"action":"insert","lines":["o"]}],[{"start":{"row":29,"column":18},"end":{"row":29,"column":19},"action":"insert","lines":["g"],"id":499}],[{"start":{"row":29,"column":19},"end":{"row":29,"column":21},"action":"insert","lines":["()"],"id":500}],[{"start":{"row":29,"column":21},"end":{"row":29,"column":22},"action":"insert","lines":[";"],"id":501}],[{"start":{"row":29,"column":20},"end":{"row":29,"column":22},"action":"insert","lines":["''"],"id":502}],[{"start":{"row":29,"column":21},"end":{"row":29,"column":22},"action":"insert","lines":["F"],"id":503},{"start":{"row":29,"column":22},"end":{"row":29,"column":23},"action":"insert","lines":["i"]},{"start":{"row":29,"column":23},"end":{"row":29,"column":24},"action":"insert","lines":["l"]},{"start":{"row":29,"column":24},"end":{"row":29,"column":25},"action":"insert","lines":["e"]}],[{"start":{"row":29,"column":25},"end":{"row":29,"column":26},"action":"insert","lines":[" "],"id":504},{"start":{"row":29,"column":26},"end":{"row":29,"column":27},"action":"insert","lines":["I"]},{"start":{"row":29,"column":27},"end":{"row":29,"column":28},"action":"insert","lines":["s"]}],[{"start":{"row":29,"column":28},"end":{"row":29,"column":29},"action":"insert","lines":[" "],"id":505},{"start":{"row":29,"column":29},"end":{"row":29,"column":30},"action":"insert","lines":["T"]},{"start":{"row":29,"column":30},"end":{"row":29,"column":31},"action":"insert","lines":["o"]},{"start":{"row":29,"column":31},"end":{"row":29,"column":32},"action":"insert","lines":["o"]}],[{"start":{"row":29,"column":32},"end":{"row":29,"column":33},"action":"insert","lines":[" "],"id":506},{"start":{"row":29,"column":33},"end":{"row":29,"column":34},"action":"insert","lines":["B"]},{"start":{"row":29,"column":34},"end":{"row":29,"column":35},"action":"insert","lines":["i"]},{"start":{"row":29,"column":35},"end":{"row":29,"column":36},"action":"insert","lines":["g"]},{"start":{"row":29,"column":36},"end":{"row":29,"column":37},"action":"insert","lines":["!"]}],[{"start":{"row":29,"column":37},"end":{"row":29,"column":38},"action":"insert","lines":[" "],"id":507},{"start":{"row":29,"column":38},"end":{"row":29,"column":39},"action":"insert","lines":["F"]},{"start":{"row":29,"column":39},"end":{"row":29,"column":40},"action":"insert","lines":["i"]},{"start":{"row":29,"column":40},"end":{"row":29,"column":41},"action":"insert","lines":["l"]},{"start":{"row":29,"column":41},"end":{"row":29,"column":42},"action":"insert","lines":["e"]}],[{"start":{"row":29,"column":42},"end":{"row":29,"column":43},"action":"insert","lines":[" "],"id":508},{"start":{"row":29,"column":43},"end":{"row":29,"column":44},"action":"insert","lines":["S"]},{"start":{"row":29,"column":44},"end":{"row":29,"column":45},"action":"insert","lines":["i"]},{"start":{"row":29,"column":45},"end":{"row":29,"column":46},"action":"insert","lines":["z"]},{"start":{"row":29,"column":46},"end":{"row":29,"column":47},"action":"insert","lines":["e"]},{"start":{"row":29,"column":47},"end":{"row":29,"column":48},"action":"insert","lines":[":"]}],[{"start":{"row":29,"column":48},"end":{"row":29,"column":49},"action":"insert","lines":[" "],"id":509}],[{"start":{"row":29,"column":50},"end":{"row":29,"column":51},"action":"insert","lines":[" "],"id":510},{"start":{"row":29,"column":51},"end":{"row":29,"column":52},"action":"insert","lines":["+"]}],[{"start":{"row":29,"column":52},"end":{"row":29,"column":53},"action":"insert","lines":[" "],"id":511}],[{"start":{"row":29,"column":53},"end":{"row":29,"column":70},"action":"insert","lines":["base64Data.length"],"id":512}],[{"start":{"row":26,"column":39},"end":{"row":26,"column":40},"action":"insert","lines":[","],"id":513}],[{"start":{"row":26,"column":40},"end":{"row":26,"column":41},"action":"insert","lines":[" "],"id":514}],[{"start":{"row":26,"column":41},"end":{"row":26,"column":50},"action":"insert","lines":["imageCode"],"id":515}],[{"start":{"row":26,"column":50},"end":{"row":26,"column":51},"action":"insert","lines":[","],"id":516}],[{"start":{"row":26,"column":51},"end":{"row":26,"column":52},"action":"insert","lines":[" "],"id":517}],[{"start":{"row":26,"column":51},"end":{"row":26,"column":52},"action":"remove","lines":[" "],"id":518},{"start":{"row":26,"column":50},"end":{"row":26,"column":51},"action":"remove","lines":[","]}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":122},"action":"remove","lines":["//AWS.config.update({ accessKeyId: 'AKIAIWJNS2QFEXO32CWQ', secretAccessKey: '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' });"],"id":519},{"start":{"row":3,"column":0},"end":{"row":4,"column":0},"action":"insert","lines":["",""]},{"start":{"row":4,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":1},"action":"insert","lines":["t"],"id":520},{"start":{"row":4,"column":1},"end":{"row":4,"column":2},"action":"insert","lines":["h"]},{"start":{"row":4,"column":2},"end":{"row":4,"column":3},"action":"insert","lines":["i"]},{"start":{"row":4,"column":3},"end":{"row":4,"column":4},"action":"insert","lines":["s"]},{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"insert","lines":["."]},{"start":{"row":4,"column":5},"end":{"row":4,"column":6},"action":"insert","lines":["R"]},{"start":{"row":4,"column":6},"end":{"row":4,"column":7},"action":"insert","lines":["u"]},{"start":{"row":4,"column":7},"end":{"row":4,"column":8},"action":"insert","lines":["n"]}],[{"start":{"row":4,"column":8},"end":{"row":4,"column":10},"action":"insert","lines":["()"],"id":521}],[{"start":{"row":4,"column":10},"end":{"row":4,"column":11},"action":"insert","lines":["{"],"id":522},{"start":{"row":4,"column":11},"end":{"row":4,"column":12},"action":"insert","lines":["}"]}],[{"start":{"row":4,"column":11},"end":{"row":6,"column":0},"action":"insert","lines":["","    ",""],"id":523}],[{"start":{"row":5,"column":4},"end":{"row":6,"column":0},"action":"insert","lines":["",""],"id":524},{"start":{"row":6,"column":0},"end":{"row":6,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":4,"column":8},"end":{"row":4,"column":11},"action":"remove","lines":["(){"],"id":525},{"start":{"row":4,"column":8},"end":{"row":4,"column":21},"action":"insert","lines":["(socket) => {"]}],[{"start":{"row":4,"column":8},"end":{"row":4,"column":9},"action":"insert","lines":[" "],"id":526},{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":["="]}],[{"start":{"row":4,"column":10},"end":{"row":4,"column":11},"action":"insert","lines":[" "],"id":527}],[{"start":{"row":9,"column":0},"end":{"row":59,"column":2},"action":"remove","lines":["","const options = {","  apiVersion: '2012-10-17',","  params: {","    Bucket: 'queue-storage'","  },","  accessKeyId: 'AKIAIVNCCRBU6WKHCHSQ',","  secretAccessKey: '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',","  signatureVersion: 'v4'","};","","","function guid() {","  function s4() {","    return Math.floor((1 + Math.random()) * 0x10000)","      .toString(16)","      .substring(1);","  }","  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();","}","","","this.UploadImage = function(base64Image, imageCode){","    // Create an s3 instance","    if (base64Data.length > 600000) {","        console.log('File Is Too Big! File Size: ' + base64Data.length);","        return;","    }","    const s3 = new AWS.S3(options);","","    const base64Data = new Buffer(base64Image.replace(/^data:image\\/\\w+;base64,/, \"\"), 'base64');","    console.log(base64Data.length);","    const type = 'JPEG';","    const imageName = guid() + '.' + type;","","    const params = {","      Bucket: 'queue-storage',","      Key: `${imageName}`, // type is not required","      Body: base64Data,","      ACL: 'public-read',","      ContentEncoding: 'base64', // required","      ContentType: `image/${type}` // required. Notice the back ticks","    };","","    s3.upload(params, (err, data) => {","      if (err) { return console.log(err) }","      ","      console.log('Image successfully uploaded.');","    });","    ","};"],"id":528}],[{"start":{"row":5,"column":4},"end":{"row":55,"column":2},"action":"insert","lines":["","const options = {","  apiVersion: '2012-10-17',","  params: {","    Bucket: 'queue-storage'","  },","  accessKeyId: 'AKIAIVNCCRBU6WKHCHSQ',","  secretAccessKey: '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',","  signatureVersion: 'v4'","};","","","function guid() {","  function s4() {","    return Math.floor((1 + Math.random()) * 0x10000)","      .toString(16)","      .substring(1);","  }","  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();","}","","","this.UploadImage = function(base64Image, imageCode){","    // Create an s3 instance","    if (base64Data.length > 600000) {","        console.log('File Is Too Big! File Size: ' + base64Data.length);","        return;","    }","    const s3 = new AWS.S3(options);","","    const base64Data = new Buffer(base64Image.replace(/^data:image\\/\\w+;base64,/, \"\"), 'base64');","    console.log(base64Data.length);","    const type = 'JPEG';","    const imageName = guid() + '.' + type;","","    const params = {","      Bucket: 'queue-storage',","      Key: `${imageName}`, // type is not required","      Body: base64Data,","      ACL: 'public-read',","      ContentEncoding: 'base64', // required","      ContentType: `image/${type}` // required. Notice the back ticks","    };","","    s3.upload(params, (err, data) => {","      if (err) { return console.log(err) }","      ","      console.log('Image successfully uploaded.');","    });","    ","};"],"id":529}],[{"start":{"row":25,"column":0},"end":{"row":26,"column":0},"action":"insert","lines":["",""],"id":530}],[{"start":{"row":26,"column":0},"end":{"row":33,"column":5},"action":"insert","lines":["socket.on('UploadImage', (image, imageCode) => {","    try {","       fileHandler.UploadImage(image, imageCode);","    } catch (e) {","      console.log(e);","      socket.emit('SignUpComplete', 2, 'התרחשה תקלה');","    }","  });"],"id":531}],[{"start":{"row":33,"column":5},"end":{"row":34,"column":0},"action":"insert","lines":["",""],"id":532},{"start":{"row":34,"column":0},"end":{"row":34,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":38,"column":3},"end":{"row":62,"column":7},"action":"remove","lines":[" if (base64Data.length > 600000) {","        console.log('File Is Too Big! File Size: ' + base64Data.length);","        return;","    }","    const s3 = new AWS.S3(options);","","    const base64Data = new Buffer(base64Image.replace(/^data:image\\/\\w+;base64,/, \"\"), 'base64');","    console.log(base64Data.length);","    const type = 'JPEG';","    const imageName = guid() + '.' + type;","","    const params = {","      Bucket: 'queue-storage',","      Key: `${imageName}`, // type is not required","      Body: base64Data,","      ACL: 'public-read',","      ContentEncoding: 'base64', // required","      ContentType: `image/${type}` // required. Notice the back ticks","    };","","    s3.upload(params, (err, data) => {","      if (err) { return console.log(err) }","      ","      console.log('Image successfully uploaded.');","    });"],"id":533}],[{"start":{"row":28,"column":7},"end":{"row":28,"column":49},"action":"remove","lines":["fileHandler.UploadImage(image, imageCode);"],"id":534},{"start":{"row":28,"column":7},"end":{"row":52,"column":7},"action":"insert","lines":[" if (base64Data.length > 600000) {","        console.log('File Is Too Big! File Size: ' + base64Data.length);","        return;","    }","    const s3 = new AWS.S3(options);","","    const base64Data = new Buffer(base64Image.replace(/^data:image\\/\\w+;base64,/, \"\"), 'base64');","    console.log(base64Data.length);","    const type = 'JPEG';","    const imageName = guid() + '.' + type;","","    const params = {","      Bucket: 'queue-storage',","      Key: `${imageName}`, // type is not required","      Body: base64Data,","      ACL: 'public-read',","      ContentEncoding: 'base64', // required","      ContentType: `image/${type}` // required. Notice the back ticks","    };","","    s3.upload(params, (err, data) => {","      if (err) { return console.log(err) }","      ","      console.log('Image successfully uploaded.');","    });"]}],[{"start":{"row":26,"column":26},"end":{"row":26,"column":31},"action":"remove","lines":["image"],"id":535},{"start":{"row":26,"column":26},"end":{"row":26,"column":37},"action":"insert","lines":["base64Image"]}],[{"start":{"row":31,"column":0},"end":{"row":31,"column":4},"action":"insert","lines":["    "],"id":536},{"start":{"row":32,"column":0},"end":{"row":32,"column":4},"action":"insert","lines":["    "]},{"start":{"row":33,"column":0},"end":{"row":33,"column":4},"action":"insert","lines":["    "]},{"start":{"row":34,"column":0},"end":{"row":34,"column":4},"action":"insert","lines":["    "]},{"start":{"row":35,"column":0},"end":{"row":35,"column":4},"action":"insert","lines":["    "]},{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"insert","lines":["    "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":4},"action":"insert","lines":["    "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"insert","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"insert","lines":["    "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]},{"start":{"row":43,"column":0},"end":{"row":43,"column":4},"action":"insert","lines":["    "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"insert","lines":["    "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"insert","lines":["    "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"insert","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"insert","lines":["    "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"insert","lines":["    "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":4},"action":"insert","lines":["    "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":60,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["this.UploadImage = function(base64Image, imageCode){","    // Create an s3 instance","   ","    ","};"],"id":537}],[{"start":{"row":58,"column":2},"end":{"row":61,"column":4},"action":"remove","lines":["","","","    "],"id":538},{"start":{"row":58,"column":1},"end":{"row":58,"column":2},"action":"remove","lines":[" "]}],[{"start":{"row":55,"column":19},"end":{"row":55,"column":25},"action":"remove","lines":["SignUp"],"id":539},{"start":{"row":55,"column":19},"end":{"row":55,"column":30},"action":"insert","lines":["UploadImage"]}],[{"start":{"row":50,"column":10},"end":{"row":50,"column":63},"action":"insert","lines":["socket.emit('UploadImageComplete', 2, 'התרחשה תקלה');"],"id":540}],[{"start":{"row":50,"column":45},"end":{"row":50,"column":46},"action":"remove","lines":["2"],"id":541},{"start":{"row":50,"column":45},"end":{"row":50,"column":54},"action":"insert","lines":["imageCode"]}],[{"start":{"row":50,"column":56},"end":{"row":50,"column":69},"action":"remove","lines":["'התרחשה תקלה'"],"id":542},{"start":{"row":50,"column":56},"end":{"row":50,"column":65},"action":"insert","lines":["imageName"]}],[{"start":{"row":57,"column":5},"end":{"row":58,"column":1},"action":"remove","lines":[""," "],"id":543}],[{"start":{"row":58,"column":1},"end":{"row":58,"column":2},"action":"insert","lines":["ף"],"id":544}],[{"start":{"row":58,"column":1},"end":{"row":58,"column":2},"action":"remove","lines":["ף"],"id":545}],[{"start":{"row":58,"column":1},"end":{"row":58,"column":2},"action":"insert","lines":[":"],"id":546}],[{"start":{"row":58,"column":1},"end":{"row":58,"column":2},"action":"remove","lines":[":"],"id":547}],[{"start":{"row":58,"column":1},"end":{"row":58,"column":2},"action":"insert","lines":[";"],"id":548}],[{"start":{"row":26,"column":39},"end":{"row":26,"column":48},"action":"remove","lines":["imageCode"],"id":549},{"start":{"row":26,"column":39},"end":{"row":26,"column":40},"action":"insert","lines":["i"]},{"start":{"row":26,"column":40},"end":{"row":26,"column":41},"action":"insert","lines":["m"]},{"start":{"row":26,"column":41},"end":{"row":26,"column":42},"action":"insert","lines":["a"]},{"start":{"row":26,"column":42},"end":{"row":26,"column":43},"action":"insert","lines":["g"]},{"start":{"row":26,"column":43},"end":{"row":26,"column":44},"action":"insert","lines":["e"]},{"start":{"row":26,"column":44},"end":{"row":26,"column":45},"action":"insert","lines":["N"]}],[{"start":{"row":26,"column":45},"end":{"row":26,"column":46},"action":"insert","lines":["a"],"id":550},{"start":{"row":26,"column":46},"end":{"row":26,"column":47},"action":"insert","lines":["m"]},{"start":{"row":26,"column":47},"end":{"row":26,"column":48},"action":"insert","lines":["e"]}],[{"start":{"row":26,"column":39},"end":{"row":26,"column":48},"action":"remove","lines":["imageName"],"id":551},{"start":{"row":26,"column":39},"end":{"row":26,"column":40},"action":"insert","lines":["G"]},{"start":{"row":26,"column":40},"end":{"row":26,"column":41},"action":"insert","lines":["u"]},{"start":{"row":26,"column":41},"end":{"row":26,"column":42},"action":"insert","lines":["i"]},{"start":{"row":26,"column":42},"end":{"row":26,"column":43},"action":"insert","lines":["d"]}],[{"start":{"row":26,"column":39},"end":{"row":26,"column":40},"action":"insert","lines":["i"],"id":552},{"start":{"row":26,"column":40},"end":{"row":26,"column":41},"action":"insert","lines":["m"]},{"start":{"row":26,"column":41},"end":{"row":26,"column":42},"action":"insert","lines":["a"]},{"start":{"row":26,"column":42},"end":{"row":26,"column":43},"action":"insert","lines":["g"]},{"start":{"row":26,"column":43},"end":{"row":26,"column":44},"action":"insert","lines":["e"]}],[{"start":{"row":37,"column":25},"end":{"row":37,"column":32},"action":"remove","lines":[" guid()"],"id":553},{"start":{"row":37,"column":25},"end":{"row":37,"column":34},"action":"insert","lines":["imageGuid"]}],[{"start":{"row":37,"column":25},"end":{"row":37,"column":26},"action":"insert","lines":[" "],"id":554}],[{"start":{"row":16,"column":0},"end":{"row":24,"column":1},"action":"remove","lines":["","function guid() {","  function s4() {","    return Math.floor((1 + Math.random()) * 0x10000)","      .toString(16)","      .substring(1);","  }","  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();","}"],"id":555},{"start":{"row":16,"column":0},"end":{"row":17,"column":0},"action":"remove","lines":["",""]},{"start":{"row":16,"column":0},"end":{"row":17,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":39,"column":46},"end":{"row":40,"column":67},"action":"remove","lines":["","          socket.emit('UploadImageComplete', imageCode, imageName);"],"id":556}],[{"start":{"row":43,"column":21},"end":{"row":44,"column":59},"action":"remove","lines":["","      socket.emit('UploadImageComplete', 2, 'התרחשה תקלה');"],"id":557}],[{"start":{"row":17,"column":9},"end":{"row":18,"column":0},"action":"insert","lines":["",""],"id":558},{"start":{"row":18,"column":0},"end":{"row":18,"column":8},"action":"insert","lines":["        "]},{"start":{"row":18,"column":8},"end":{"row":18,"column":9},"action":"insert","lines":["c"]},{"start":{"row":18,"column":9},"end":{"row":18,"column":10},"action":"insert","lines":["o"]},{"start":{"row":18,"column":10},"end":{"row":18,"column":11},"action":"insert","lines":["n"]},{"start":{"row":18,"column":11},"end":{"row":18,"column":12},"action":"insert","lines":["s"]},{"start":{"row":18,"column":12},"end":{"row":18,"column":13},"action":"insert","lines":["o"]},{"start":{"row":18,"column":13},"end":{"row":18,"column":14},"action":"insert","lines":["l"]},{"start":{"row":18,"column":14},"end":{"row":18,"column":15},"action":"insert","lines":["e"]}],[{"start":{"row":18,"column":15},"end":{"row":18,"column":16},"action":"insert","lines":["."],"id":559},{"start":{"row":18,"column":16},"end":{"row":18,"column":17},"action":"insert","lines":["l"]},{"start":{"row":18,"column":17},"end":{"row":18,"column":18},"action":"insert","lines":["o"]},{"start":{"row":18,"column":18},"end":{"row":18,"column":19},"action":"insert","lines":["g"]}],[{"start":{"row":18,"column":19},"end":{"row":18,"column":21},"action":"insert","lines":["()"],"id":560}],[{"start":{"row":18,"column":21},"end":{"row":18,"column":22},"action":"insert","lines":[";"],"id":561}],[{"start":{"row":18,"column":20},"end":{"row":18,"column":42},"action":"insert","lines":["base64Image, imageGuid"],"id":562}],[{"start":{"row":18,"column":20},"end":{"row":18,"column":31},"action":"remove","lines":["base64Image"],"id":564},{"start":{"row":18,"column":20},"end":{"row":18,"column":31},"action":"insert","lines":["base64Image"]}],[{"start":{"row":19,"column":12},"end":{"row":19,"column":22},"action":"remove","lines":["base64Data"],"id":566},{"start":{"row":19,"column":12},"end":{"row":19,"column":23},"action":"insert","lines":["base64Image"]}],[{"start":{"row":25,"column":38},"end":{"row":25,"column":49},"action":"remove","lines":["base64Image"],"id":567},{"start":{"row":25,"column":38},"end":{"row":25,"column":49},"action":"insert","lines":["base64Image"]}],[{"start":{"row":17,"column":9},"end":{"row":18,"column":44},"action":"remove","lines":["","        console.log(base64Image, imageGuid);"],"id":568}],[{"start":{"row":30,"column":32},"end":{"row":30,"column":33},"action":"insert","lines":["/"],"id":569},{"start":{"row":30,"column":33},"end":{"row":30,"column":34},"action":"insert","lines":["U"]},{"start":{"row":30,"column":34},"end":{"row":30,"column":35},"action":"insert","lines":["s"]},{"start":{"row":30,"column":35},"end":{"row":30,"column":36},"action":"insert","lines":["e"]},{"start":{"row":30,"column":36},"end":{"row":30,"column":37},"action":"insert","lines":["r"]}]]},"ace":{"folds":[],"scrolltop":300,"scrollleft":0,"selection":{"start":{"row":30,"column":37},"end":{"row":30,"column":37},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":9,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1527875951546,"hash":"dbcac3a7366d435778522bda285bf443fd77e2bb"}